(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/InvoiceEdit/InvoiceEdit"],{"16fd":function(e,t,n){"use strict";n.r(t);var a=n("2ebf"),i=n("89c5");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("e584");var c=n("828b"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"7fcb50f6",null,!1,a["a"],void 0);t["default"]=s.exports},"2ebf":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={zeroPrivacy:function(){return n.e("uni_modules/zero-privacy/components/zero-privacy/zero-privacy").then(n.bind(null,"f4c3"))}},i=function(){var e=this.$createElement;this._self._c},o=[]},"3de7":function(e,t,n){},7009:function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("7ea0");a(n("3240"));var i=a(n("16fd"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"89c5":function(e,t,n){"use strict";n.r(t);var a=n("aaf1"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},aaf1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("7dcd"),i={data:function(){return{ab:{invoiceType:"单位",invoiceTitle:"",taxNumber:"",companyAddress:"",phoneNumber:"",bankName:"",bankAccount:"",id:""},addressType:""}},onLoad:function(t){console.log("@@@@"+t),this.addressType=t.type,e.setNavigationBarTitle({title:this.addressType}),"编辑发票抬头"==this.addressType&&(this.ab=JSON.parse(t.fpInfo))},methods:{handleNeedAuthorization:function(t){console.log("是否需要授权",t),t&&e.navigateBack()},selectOption:function(e){this.ab.invoiceType=e},save:function(){if(""==this.ab.invoiceTitle)return e.showToast({title:"请输入发票抬头",icon:"none"}),!1;if(""==this.ab.taxNumber&&"单位"==this.ab.invoiceType)return e.showToast({title:"请输入正确的税号",icon:"none"}),!1;var t=e.getStorageSync("basicData"),n=JSON.parse(t);"编辑发票抬头"==this.addressType?(0,a.updateUserInvoice)({userOpenid:n.userOpenid,invoiceType:this.ab.invoiceType,invoiceTitle:this.ab.invoiceTitle,taxNumber:this.ab.taxNumber,companyAddress:this.ab.companyAddress,phoneNumber:this.ab.phoneNumber,bankName:this.ab.bankName,bankAccount:this.ab.bankAccount,id:this.ab.id}).then((function(t){e.showToast({title:"保存成功",duration:2e3});var n=setInterval((function(){e.navigateBack(),clearInterval(n)}),2e3)})).catch((function(t){e.showToast({title:t.data.msg||"updateUserInvoice接口异常,请稍后再试",icon:"none"})})):(0,a.createUserInvoice)({userOpenid:n.userOpenid,invoiceType:this.ab.invoiceType,invoiceTitle:this.ab.invoiceTitle,taxNumber:this.ab.taxNumber,companyAddress:this.ab.companyAddress,phoneNumber:this.ab.phoneNumber,bankName:this.ab.bankName,bankAccount:this.ab.bankAccount}).then((function(t){e.showToast({title:"保存成功",duration:2e3});var n=setInterval((function(){e.navigateBack(),clearInterval(n)}),1500)})).catch((function(t){e.showToast({title:t.data.msg||"createUserInvoice接口异常,请稍后再试",icon:"none"})}))},del:function(){var t=this;e.showModal({title:"",content:"立即删除该发票抬头？",confirmColor:"#C0272C",success:function(n){n.confirm?(0,a.deleteUserInvoiceById)({id:t.ab.id}).then((function(t){e.showToast({title:"删除成功",duration:1500});var n=setInterval((function(){e.navigateBack(),clearInterval(n)}),2e3)})).catch((function(t){e.showToast({title:t.data.msg||"deleteUserInvoiceById接口异常,请稍后再试",icon:"none"})})):n.cancel&&console.log("用户点击取消")}})}}};t.default=i}).call(this,n("df3c")["default"])},e584:function(e,t,n){"use strict";var a=n("3de7"),i=n.n(a);i.a}},[["7009","common/runtime","common/vendor"]]]);